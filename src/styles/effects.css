/* ============================================
   EASTER EGG EFFECTS
   ============================================ */

/* Snow Effect */
.snow-canvas {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 9990;
}

/* ============================================
   DISCO EFFECT
   ============================================ */
.disco-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0);
  z-index: 9990;
  pointer-events: none;
  transition: background 0.5s ease;
  overflow: hidden;
}

.disco-overlay.active {
  background: rgba(0, 0, 0, 0.85);
}

.disco-overlay.fade-out {
  background: rgba(0, 0, 0, 0);
}

.disco-ball {
  position: absolute;
  top: -100px;
  left: 50%;
  transform: translateX(-50%);
  width: 80px;
  height: 80px;
  transition: top 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.disco-overlay.active .disco-ball {
  top: 15%;
}

.disco-ball-inner {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  background:
    radial-gradient(circle at 30% 30%, #fff 0%, #ccc 20%, #888 50%, #444 100%);
  box-shadow:
    0 0 30px rgba(255, 255, 255, 0.5),
    inset 0 0 20px rgba(0, 0, 0, 0.3);
  animation: disco-spin 3s linear infinite;
  position: relative;
  overflow: hidden;
}

.disco-ball-inner::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background:
    repeating-linear-gradient(
      0deg,
      transparent 0px,
      transparent 8px,
      rgba(200, 200, 200, 0.3) 8px,
      rgba(200, 200, 200, 0.3) 10px
    ),
    repeating-linear-gradient(
      90deg,
      transparent 0px,
      transparent 8px,
      rgba(200, 200, 200, 0.3) 8px,
      rgba(200, 200, 200, 0.3) 10px
    );
  border-radius: 50%;
}

.disco-reflection {
  position: absolute;
  top: 10%;
  left: 20%;
  width: 30%;
  height: 20%;
  background: linear-gradient(135deg, rgba(255,255,255,0.8), transparent);
  border-radius: 50%;
  filter: blur(2px);
}

@keyframes disco-spin {
  from { transform: rotateY(0deg); }
  to { transform: rotateY(360deg); }
}

/* Spotlights */
.disco-spotlights {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  opacity: 0;
  transition: opacity 0.5s ease 0.3s;
}

.disco-overlay.active .disco-spotlights {
  opacity: 1;
}

.spotlight {
  position: absolute;
  width: 150%;
  height: 150%;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  pointer-events: none;
}

.spotlight-1 {
  background: conic-gradient(
    from 0deg,
    transparent 0deg,
    rgba(255, 0, 0, 0.15) 10deg,
    transparent 20deg,
    transparent 90deg,
    rgba(0, 255, 0, 0.15) 100deg,
    transparent 110deg,
    transparent 180deg,
    rgba(0, 0, 255, 0.15) 190deg,
    transparent 200deg,
    transparent 270deg,
    rgba(255, 0, 255, 0.15) 280deg,
    transparent 290deg
  );
  animation: spotlight-rotate 4s linear infinite;
}

.spotlight-2 {
  background: conic-gradient(
    from 45deg,
    transparent 0deg,
    rgba(255, 255, 0, 0.12) 15deg,
    transparent 30deg,
    transparent 120deg,
    rgba(0, 255, 255, 0.12) 135deg,
    transparent 150deg,
    transparent 240deg,
    rgba(255, 100, 0, 0.12) 255deg,
    transparent 270deg
  );
  animation: spotlight-rotate 6s linear infinite reverse;
}

.spotlight-3 {
  background: radial-gradient(
    ellipse at center,
    transparent 30%,
    rgba(255, 0, 100, 0.1) 50%,
    transparent 70%
  );
  animation: spotlight-pulse 2s ease-in-out infinite;
}

.spotlight-4 {
  background: radial-gradient(
    ellipse at center,
    transparent 20%,
    rgba(100, 0, 255, 0.1) 40%,
    transparent 60%
  );
  animation: spotlight-pulse 2.5s ease-in-out infinite 0.5s;
}

@keyframes spotlight-rotate {
  from { transform: translate(-50%, -50%) rotate(0deg); }
  to { transform: translate(-50%, -50%) rotate(360deg); }
}

@keyframes spotlight-pulse {
  0%, 100% { opacity: 0.5; transform: translate(-50%, -50%) scale(1); }
  50% { opacity: 1; transform: translate(-50%, -50%) scale(1.2); }
}

/* Floor lights */
.disco-floor-lights {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 40%;
  background: linear-gradient(
    to top,
    rgba(255, 0, 255, 0.1) 0%,
    rgba(0, 255, 255, 0.05) 50%,
    transparent 100%
  );
  opacity: 0;
  transition: opacity 0.5s ease 0.5s;
  animation: floor-pulse 1.5s ease-in-out infinite;
}

.disco-overlay.active .disco-floor-lights {
  opacity: 1;
}

@keyframes floor-pulse {
  0%, 100% {
    background: linear-gradient(
      to top,
      rgba(255, 0, 255, 0.15) 0%,
      rgba(0, 255, 255, 0.05) 50%,
      transparent 100%
    );
  }
  33% {
    background: linear-gradient(
      to top,
      rgba(0, 255, 255, 0.15) 0%,
      rgba(255, 255, 0, 0.05) 50%,
      transparent 100%
    );
  }
  66% {
    background: linear-gradient(
      to top,
      rgba(255, 255, 0, 0.15) 0%,
      rgba(255, 0, 255, 0.05) 50%,
      transparent 100%
    );
  }
}

/* ============================================
   FIREWORKS EFFECT
   ============================================ */
.fireworks-canvas {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 9995;
}

/* ============================================
   RICK ROLL EFFECT - Desktop Backdrop
   ============================================ */
#desktop.rickrolled::before {
  display: none;
}

.rickroll-backdrop {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 0;
  overflow: hidden;
  opacity: 0;
  transition: opacity 0.5s ease;
  pointer-events: auto;
}

.rickroll-backdrop.active {
  opacity: 1;
}

.rickroll-backdrop.fade-out {
  opacity: 0;
}

.rickroll-video {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  min-width: 100%;
  min-height: 100%;
  width: auto;
  height: auto;
  object-fit: cover;
  z-index: 1;
  pointer-events: none;
}

.rickroll-fallback {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background:
    url('https://media.tenor.com/x8v1oNUOmg4AAAAC/rickroll-roll.gif')
    center center / cover no-repeat;
  z-index: -1;
}

.rickroll-close {
  position: absolute;
  bottom: 10px;
  right: 10px;
  color: white;
  font-size: 20px;
  cursor: pointer;
  background: rgba(0, 0, 0, 0.7);
  border: 2px solid rgba(255, 255, 255, 0.3);
  opacity: 0.8;
  transition: opacity 0.2s, transform 0.2s, background 0.2s;
  z-index: 100;
  line-height: 1;
  padding: 6px 12px;
  border-radius: 4px;
  pointer-events: auto;
}

.rickroll-close:hover {
  opacity: 1;
  transform: scale(1.1);
  background: rgba(0, 0, 0, 0.9);
}

.rickroll-close:active {
  transform: scale(0.95);
}

/* ============================================
   CLOCK EASTER EGG HINT
   ============================================ */
.taskbar-clock {
  cursor: pointer;
  transition: background 0.2s;
}

.taskbar-clock:hover {
  background: rgba(255, 255, 255, 0.1);
}

.taskbar-clock:active {
  background: rgba(0, 0, 0, 0.1);
}

/* ============================================
   FLY EASTER EGG
   ============================================ */
.fly-easter-egg {
  position: absolute;
  font-size: 20px;
  cursor: pointer;
  z-index: 9000;
  opacity: 0;
  transform: scale(0.5) rotate(0deg);
  transition: opacity 0.3s ease, transform 0.3s ease;
  filter: drop-shadow(1px 1px 2px rgba(0, 0, 0, 0.3));
  user-select: none;
}

.fly-easter-egg.landed {
  opacity: 1;
  transform: scale(1) rotate(0deg);
  animation: flyIdle 2s ease-in-out infinite;
}

.fly-easter-egg:hover {
  animation: flyBuzz 0.1s linear infinite;
}

.fly-easter-egg.squished {
  transform: scale(1.5, 0.3) rotate(15deg);
  opacity: 0.7;
  filter: blur(1px);
  transition: transform 0.15s ease-out, opacity 0.15s ease-out;
}

@keyframes flyIdle {
  0%, 100% {
    transform: scale(1) rotate(0deg) translateY(0);
  }
  25% {
    transform: scale(1) rotate(-3deg) translateY(-1px);
  }
  75% {
    transform: scale(1) rotate(3deg) translateY(1px);
  }
}

@keyframes flyBuzz {
  0%, 100% {
    transform: scale(1) rotate(-2deg) translate(-1px, -1px);
  }
  50% {
    transform: scale(1) rotate(2deg) translate(1px, 1px);
  }
}

/* ============================================
   MOBILE ADJUSTMENTS
   ============================================ */
@media (max-width: 768px) {
  .disco-ball {
    width: 60px;
    height: 60px;
  }

  .rickroll-text {
    font-size: 18px;
  }

  .rickroll-close {
    font-size: 28px;
    top: 5px;
    right: 10px;
  }

  .fly-easter-egg {
    font-size: 24px;
  }
}
